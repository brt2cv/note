<!--
+++
title       = "程序员的数学3-线性代数"
description = "线性代数的28法则：作为程序员掌握这些API就够用了……"
date        = "2021-12-20"
tags        = []
categories  = ["7-理论知识","71-机器学习"]
series      = []
keywords    = []
weight      = 5
toc         = true
draft       = false
+++ -->

[TOC]

---

> 《程序员的数学3：线性代数》

## 1. 向量 & 矩阵

![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152643454-672265606.jpg) <!-- 数学基础-线性代数/数学基础-线性代数0.jpg -->

<font color=#FF0000>向量（数组）</font>的元素类型可以通过dtype属性获得。上面例子中的参数序列的元素都是整数，因此所创建的数组的元素类型也是整数，并且是32bit的长整型。可以通过dtype参数在创建时指定元素类型:

![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152643658-514046309.jpg) <!-- 数学基础-线性代数\2019-12-19-10-49-12.jpg -->

对，向量与 `np.ndarray` 不是同一个东西——向量就是一维数组。在几何意义上，向量表示的是多维空间中的有向线段，数组的每个数据代表了一个维度的参数。

而 `ndarray` 可以是多维数组，更像是Matrix。

### 1.1. 问： `np.ndarray` 与 `np.matrix` 的区别

### 1.2. 向量空间

![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152643849-1824582565.jpg) <!-- 数学基础-线性代数/数学基础-线性代数3.jpg -->

把上图中的刻度去掉，就是向量空间。

![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152644077-415140983.jpg) <!-- 数学基础-线性代数/数学基础-线性代数4.jpg -->

## 2. 算术运算

![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152644334-504940490.jpg) <!-- 数学基础-线性代数/数学基础-线性代数1.jpg -->

![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152644516-1616052160.png) <!-- 数学基础-线性代数\keepng_2019-12-19-10-05-15.png -->

*注意：numpy.ndarray的乘积运算，并不等同于线性代数中两个向量的乘积运算。*

### 2.1. 为什么线性代数定义的乘积运算不按照加法的规则（按位相乘）进行？

![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152644725-1394374525.jpg) <!-- 数学基础-线性代数/数学基础-线性代数2.jpg -->

<font color=#FF0000>线性代数的乘法运算（矩阵乘积），几何意义表示坐标系变换。</font>

### 2.2. 数组广播（broadcasting）

![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152644941-1338031956.png) <!-- 数学基础-线性代数\keepng_2019-12-19-10-05-55.png -->

对于不同大小的矩阵，<font color=#FF0000>只有两个矩阵的维度同为1时（例如矩阵只有一列或一行），我们才能进行这些算术运算</font>，在这种情况下，NumPy使用广播规则（broadcast）进行操作处理：

![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152645120-190314973.jpg) <!-- 数学基础-线性代数\2019-12-19-10-19-02.jpg -->

## 3. 矩阵乘积

### 3.1. 矩阵与向量的乘积

两种情形：

![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152645287-101785420.jpg) <!-- 数学基础-线性代数/数学基础-线性代数32.jpg -->

`矩阵 * 列向量 = 新向量（列）`

![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152645483-1057826416.jpg) <!-- 数学基础-线性代数/数学基础-线性代数5.jpg -->

在这个过程中，向量代表的是一个有向线段，而矩阵则表示一个转换坐标系（或者称之为“线性的函数映射”），通过乘法运算后，向量被映射成了另一个坐标系中的样子。

所以，看懂了矩阵乘积，就能明白矩阵的本质——<font color=#FF0000>“矩阵就是映射”</font>。

#### 3.1.1. 除了坐标转换，矩阵乘积还有什么用？

![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152645738-2136626000.jpg) <!-- 数学基础-线性代数/数学基础-线性代数6.jpg -->

![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152645924-2061566344.jpg) <!-- 数学基础-线性代数/数学基础-线性代数7.jpg -->

![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152646092-1597834186.jpg) <!-- 数学基础-线性代数/数学基础-线性代数8.jpg -->

#### 3.1.2. 矩阵 * 矩阵

矩阵之间相乘，其本质就是<font color=#FF0000>映射的合成</font>。

![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152646274-152970163.jpg) <!-- 数学基础-线性代数/数学基础-线性代数9.jpg -->

其实上述公式可以做如下转换：

![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152646479-723973094.jpg) <!-- 数学基础-线性代数/数学基础-线性代数10.jpg -->

这是啥？其本质就是：

![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152646649-1348741729.jpg) <!-- 数学基础-线性代数/数学基础-线性代数12.jpg -->

![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152646857-2087907670.jpg) <!-- 数学基础-线性代数/数学基础-线性代数13.jpg -->

读懂这个本质，就能知道，矩阵乘法符合<font color=#FF0000>结合律</font>：

`C(BA) = (CB)A`

但不符合<font color=#FF0000>交换律</font>：

![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152647018-271874500.jpg) <!-- 数学基础-线性代数/数学基础-线性代数11.jpg -->

> 为什么矩阵乘法不符合交换律？
>
> 考虑A是一个旋转的坐标变换，而B则代表横向拉伸。那么先旋转后拉伸与先拉伸后旋转，结果当然不同。

![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152647221-1831808727.jpg) <!-- 数学基础-线性代数/数学基础-线性代数14.jpg -->

#### 3.1.3. 一些特例

![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152647546-1071754703.jpg) <!-- 数学基础-线性代数/数学基础-线性代数15.jpg -->

![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152647732-190601635.jpg) <!-- 数学基础-线性代数/数学基础-线性代数16.jpg -->

![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152648012-1724082523.jpg) <!-- 数学基础-线性代数/数学基础-线性代数17.jpg -->

## 4. 点积乘法

![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152648463-2047796361.png) <!-- 数学基础-线性代数\keepng_2019-12-19-10-21-14.png -->

## 5. 特殊矩阵

+ 零矩阵

    零矩阵表示的映射是所有点都映射到原点的映射。

    ![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152648759-579266737.jpg) <!-- 数学基础-线性代数/数学基础-线性代数18.jpg -->

+ 单位矩阵

    “什么都没变”的映射。

    ![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152648977-302190590.jpg) <!-- 数学基础-线性代数/数学基础-线性代数19.jpg -->

    ![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152649153-189775561.jpg) <!-- 数学基础-线性代数/数学基础-线性代数20.jpg -->

+ 对角矩阵

    对角矩阵表示的映射是“沿着坐标轴伸缩”，其中对角元素就是各轴伸缩的倍率。

    ![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152649309-153218554.jpg) <!-- 数学基础-线性代数/数学基础-线性代数21.jpg -->

    ![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152649489-1764953473.jpg) <!-- 数学基础-线性代数/数学基础-线性代数22.jpg -->

+ 分块矩阵

    ![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152649682-2135917431.jpg) <!-- 数学基础-线性代数/数学基础-线性代数26.jpg -->

    ![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152650023-1957744574.jpg) <!-- 数学基础-线性代数/数学基础-线性代数27.jpg -->

+ 正交矩阵
+ 对称矩阵

### 5.1. 转置矩阵

![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152650340-459849841.jpg) <!-- 数学基础-线性代数/数学基础-线性代数28.jpg -->

![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152650517-89706290.jpg) <!-- 数学基础-线性代数/数学基础-线性代数29.jpg -->

![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152650783-1425443047.jpg) <!-- 数学基础-线性代数/数学基础-线性代数30.jpg -->

#### 5.1.1. 共轭转置

![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152651045-2099901757.jpg) <!-- 数学基础-线性代数/数学基础-线性代数31.jpg -->

## 6. 用矩阵表示各种关系
> [《程序员的数学3》p53_1.2.10]()

### 6.1. 高阶差分

### 6.2. 高阶微分

### 6.3. 消除常数项

## 7. 行列式

![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152651237-985380028.jpg) <!-- 数学基础-线性代数/数学基础-线性代数33.jpg -->

![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152651403-611750599.jpg) <!-- 数学基础-线性代数/数学基础-线性代数34.jpg -->

![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152651778-1266871904.jpg) <!-- 数学基础-线性代数/数学基础-线性代数35.jpg -->

<font color=#FF0000>行列式求得的是一个数，几何意义为（面积、体积...）的扩大率。</font>

行列式只针对**方阵**而言，非方阵矩阵不存在行列式。

### 7.1. 行列式的性质

![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152651948-1041355266.jpg) <!-- 数学基础-线性代数/数学基础-线性代数36.jpg -->

![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152652148-1001842434.jpg) <!-- 数学基础-线性代数/数学基础-线性代数37.jpg -->

常数乘法不变性

![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152652324-1474725556.jpg) <!-- 数学基础-线性代数/数学基础-线性代数38.jpg -->

转置矩阵的行列式

![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152652555-358282984.jpg) <!-- 数学基础-线性代数/数学基础-线性代数39.jpg -->

多重线性

![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152652744-309566295.jpg) <!-- 数学基础-线性代数/数学基础-线性代数40.jpg -->

![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152652977-364562585.jpg) <!-- 数学基础-线性代数/数学基础-线性代数41.jpg -->

注意：多重性质都是针对1列定义的：

![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152653188-1300315469.jpg) <!-- 数学基础-线性代数/数学基础-线性代数42.jpg -->

交替性

![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152653372-1697223547.jpg) <!-- 数学基础-线性代数/数学基础-线性代数43.jpg -->

### 7.2. 行列式的计算

```py
from numpy import linalg
n = linalg.det(A)
```

## 8. 逆矩阵 & 秩

如果 `y = Ax + b` 为 `顺问题` ，那么，通过 y 求得 x 的问题就是 `逆问题` 。

逆矩阵就是把矩阵A映射的向量还原回去的映射。简单的说，就是<font color=#FF0000>“逆映射”</font>。


![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152653536-1459991763.jpg) <!-- 数学基础-线性代数/数学基础-线性代数44.jpg -->

+ 正则矩阵：存在逆矩阵的**方阵**（可逆矩阵，非奇异矩阵）
+ 奇异矩阵：反之~

### 8.1. 逆矩阵的性质

![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152653754-1821482143.jpg) <!-- 数学基础-线性代数/数学基础-线性代数23.jpg -->

![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152653911-429513380.jpg) <!-- 数学基础-线性代数/数学基础-线性代数24.jpg -->

### 8.2. 对角矩阵的逆矩阵

![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152654138-2076439605.jpg) <!-- 数学基础-线性代数/数学基础-线性代数25.jpg -->

### 8.3. 求解逆矩阵（numpy）

```py
from numpy import linalg
invA = linalg.inv(A)
```

### 8.4. 秩

秩，体现的是不相关的维度数。

#### 8.4.1. “秩”是图像经过矩阵变换之后的空间维度

![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152654315-877819051.jpg) <!-- 数学基础-线性代数/数学基础-线性代数45.jpg -->

+ 如果经过矩阵 `A` 变换后的结果是一个平面，空间没有被压缩扁平化，那么<font color=#FF0000>该转换可逆</font>，称为非奇异矩阵
+ <font color=#FF0000>非奇异矩阵的秩与列数相等</font>，称之为满秩（Full Rank）矩阵
+ 对于满秩矩阵来说, 变换后唯一落在原点的就是零向量本身

![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152654535-1412761875.jpg) <!-- 数学基础-线性代数/数学基础-线性代数46.jpg -->

+ 当变换的结果是一条直线，该矩阵是一维的，`rank(A) = 1` ，此时矩阵不可逆, 称为奇异矩阵
+ 非满秩矩阵，会将空间压缩到更低的一维直线上，也就是由嫩绿色直线上一系列的向量在变换后成为零向量

![](https://img2020.cnblogs.com/blog/2039866/202006/2039866-20200612152654706-1535642058.jpg) <!-- 数学基础-线性代数/数学基础-线性代数47.jpg -->

+ 当变换的结果是压缩到原点，则该矩阵是零维的，称 `rank(A) = 0`

#### 8.4.2. “秩”是列空间的维度

“秩”就是矩阵所代表空间的<font color=#FF0000>不相关的维度</font>数量。而不相关的的维度才构成空间，所以，“秩”代表空间的维度。

#### 8.4.3. 话说回来，为啥叫做“秩”
> [知乎: 非叫“秩”不可，有秩才有解](http://blog.sina.com.cn/s/blog_8e7bc4f801012c23.html)

举个例子就很容易理解，大家排队买票。如果大家互相不认识，那就会一个排一个，非常有秩序。然而，如果突然来了一个与队伍前面的人认识的人，这个人又不自觉，非要插队。那后面的人肯定要有意见了，说你要是这样我前面还有认识的人呢，你插我也插，这样整个队伍就乱掉了，谁也买不成。

通过这个例子，可得以下结论：彼此不认识，那就不相关，就有秩序，问题就好解决；反之，彼此相关，就没有秩序，问题就不好解决。

所以，数学家们定义，<font color=#FF0000>矩阵中的最大的不相关的向量的个数，就叫秩</font>，可以理解为有秩序的程度。

从社会学的角度在考虑一下，政府机关是讲人际关系的地方，可谓是关系错综复杂，通常都是近亲繁殖。显然，这些部门，用矩阵来说，就不满秩，秩非常小。可以想象这些地方的工作肯定是搞不好的，因为没有秩序。所以想找个好单位，满秩可以作为一项评价指标哦~

#### 8.4.4. 求解秩（numpy）

```py
from numpy import linalg
n = linalg.matrix_rank(A)
```

### 8.5. 维数定理

+ 向量空间的维数等于对应矩阵的秩

+ 两个有限维子空间的和的维数定理： `dim(U1+U2) = dimU1 + dimU2 - dim(U1 ∩ U2) `
+ 两个有限集合元素个数的容斥原理： `card(U1∪U2) = cardU1 + cardU2 - card(U1 ∩ U2)`

## 9. 线性方程组

## 10. 特征值 & 特征向量
